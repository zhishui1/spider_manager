## 重构计划：提取 nhsa/crawler.py 通用函数到 utils.py

###

### 2. 新增 `_html_decode` 函数到 utils.py

```python
def decode_response(resp: requests.Response) -> str:
    """解码HTML响应，自动检测编码"""
    # 处理编码检测和转换
```

### 3. 新增 `_use_xpath` 函数到 utils.py

```python
def html_to_xpath(html: str):
    """使用XPath解析HTML"""
    from lxml import etree
    return etree.HTML(html)
```

### 4. 新增请求函数到 utils.py

```python
def request_get_with_retry(url, headers, proxies, timeout, retry_times, retry_delay):
    """GET请求（带重试）"""

def request_post_with_retry(url, data, params, headers, proxies, timeout, retry_times, retry_delay):
    """POST请求（带重试）"""
```

<br />

### 6. 更新 nhsa/crawler.py

* 删除已提取的函数

* 改为从 utils.py 导入使用

